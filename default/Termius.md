# Termius
谐音：特米乌斯

> termius 的免费版可以正常使用，但是缺少一部分功能。
> Termius是一款非常好用而且漂亮的SSH客户端，能快速远程控制服务器，可以定制自己喜欢的主题.Termius不仅涵盖了Windows、Linux、OSX，还变态得支持Android和iOS（以后在地铁、公交上都可以随时拿出手机来排查线上问题啦，还真是广大程序员的福音呢）。

## 配置项

-   Address（主机地址）
-   Port（主机端口，SSH 默认为 22）
-   Username（用于登录主机的用户名）
-   Password（密钥模式不需要填，点击右边的 Keys->选择我们之前配置好的密钥）
-   Group（分组，可以以环境维度分组，也可以以业务维度分组，看自己习惯）
-   Start Snippet（登录后默认执行的脚本，可以在程序左侧的 Snippet 中添加）

## 快捷脚本

**快捷键：`Ctrl + s` 可以调出右边的侧边栏。**
![[default/images/Pasted image 20221230162855.png]]

## 新建服务器
**新建服务器有两种方法：**
+ 使用密码
+ 使用密钥（在设置里面添加密钥 Key chain）


## 中转机

**对于 IP v6 的机器，本地是没办法直接连接的，因为 IP 是 IP v6 的地址，但是本地环境仅支持 IP v4 所以使用中转机。**

建立一个隧道，**edit chain** 设置中转支持 IP v4  和 IP v6 的机器就好了。


## Sftp

**sftp 具有文件传输的功能。**
![[default/images/Pasted image 20221230164338.png]


## Team

官网中还有一个 Team 的功能，让你可以分享你的服务给他人使用，不过这个功能是要收费的
![[default/images/Pasted image 20221230165353.png]]


## 端口转化

**ssh:
SSH 一共提供了 3 种端口转发，分别是本地转发（-L 参数）、远程转发（-R 参数）和动态转发（-D 参数）**。

`-N` 是一个选项，用于 `ssh` 命令行客户端。它告诉 `ssh` 不要执行远程命令，而是打开一个新的通道。这对于在远程服务器上进行端口转发或其他类似任务很有用。

举个例子，假设你想在本地计算机上运行一个服务，但是你希望这个服务可以通过互联网访问。你可以使用 `ssh` 命令来实现这一点。例如：

`ssh -N -L localhost:8080:localhost:80 remote_server`

这条命令会连接到远程服务器，并打开一个新的通道。它还会将本地计算机的端口 8080 与远程服务器的端口 80 连接起来。这样，你就可以在本地计算机上运行服务，并使用远程服务器来将流量转发到本地计算机。

总之，`-N` 选项可以让你在远程服务器上打开一个新的通道，而不是执行远程命令。


### 本地端口转发规则
```bash
ssh -N -L 127.0.0.1:8080:web.example.com:80 user@host.example.com
```

本地转发，顾名思义（有点）就是**把本地主机端口通过待登录主机端口转发到远程主机端口**上去。

本地转发通过参数 **-L** 指定，格式：`ssh -L [本地主机:]本地主机端口:远程主机:远程主机端口`。加上 ssh 待登录主机，这里就有了三台主机。

举例：`ssh -L 50000:www.google.com:80 user@host`。例中本地主机、远程主机和待登录主机分别用颜色红绿蓝标识。

当成功执行上面的命令之后，访问本地的50000端口，就等同于访问 www.google.com 的 80 端口。但和直接访问有着本质的区别：这次是通过登录主机来安全转发数据的，没有人知道你和远程主机之间传输了何种数据。就算你不能和远程主机建立连接（而登录主机能访问），那就能突破（绕过）（防火墙的）限制。

但本例其实举得不够好。就算你能访问 www.google.com，你却依然不能其它主机，甚至是 google域 的另一台主机，比如 plus.google.com。想要更全面的端口转发功能，还需**动态转发**。


### 远程端口转发规则
```bash
ssh -N -R 127.0.0.1:8080:google.com:80 user@host.example.com
```

远程转发是指**把登录主机端口通过本地主机端口转发到远程主机**。

远程转发通过参数 **-R** 指定，格式：**-R [登录主机:]登录主机端口:远程主机:远程主机端口**。

举例：`ssh -R 0.0.0.0:8080:localhost:80 user@host`。

当成功执行上面的命令之后，访问登录主机的 8080 端口就相当于访问 localhost:80！

不要小看这个例子，它可是有**相当有用**。

设想这样一种情况（其实这种情况太普遍了）：你在本机开发了一个web应用，想拿给别人测试，但现在你却处在**内网**，外网是无法直接访问内网的主机的，怎么办！？很多人可能会说，找台有公网IP的主机，重新部署一下就行了。这样可行，但太麻烦。然而自从你了解了ssh的远程转发之后，一切都变得简单了。只需在本地主机上执行一下上面例子的命令即可实现**外网访问内网的web应用**，相信我，我经常就这样干，屡试不爽。这简直是太好了，awesome! 让你从此对ssh爱不释手。


### 动态端口转发规则
```bash
ssh -N -D 127.0.0.1:1080 user@host.example.com
```

相对于本地转发和远程转发的单一端口转发模式而言，动态转发有点更加强劲的端口转发功能，即是无需固定指定被访问目标主机的端口号。这个端口号需要在本地通过协议指定，该协议就是简单、安全、实用的 [SOCKS](https://en.wikipedia.org/wiki/SOCKS) 协议。FQ（你懂的）就靠她了！

动态转发通过参数 **-D** 指定，格式：**-D [本地主机:]本地主机端口**。相对于前两个来说，动态转发无需再指定远程主机及其端口。它们由通过 SOCKS协议 连接到本地主机端口的那个主机（peer，比如最常见的浏览器）指定（此属协议内容，无需深究）。

举例：`ssh -D 50000 user@host`。

当成功执行上面这个命令后。通过协议告诉你要访问的远程主机及端口，然后你与目标主机之间的数据就通过登录主机安全地传输了。

最常见的用途：FQ（大家都懂的）。在浏览器中设置代理类型为 SOCKS (5)，主机及端口：127.0.0.1: 50000。然后 gg/ytb/tt/fb 等就一丝不挂地摆在眼前了！